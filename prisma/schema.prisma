datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id                            String         @id @default(auto()) @map("_id") @db.ObjectId
  email                         String         @unique
  username                      String?        @unique
  name                          String
  hashed_password               String?
  emailVerified                 String?
  phone                         String?
  city                          String?
  state                         String?
  country                       String?
  image                         String?
  imageAlt                      String?
  bio                           String?
  highlights                    String[]
  testimonials                  Testimonial[]
  account                       Account[]
  date_created                  DateTime      @default(now())
}


type Testimonial {  
  customer_name                 String
  image                         String?
  testimonial_text              String
  transaction_type              String
  transaction_duration_months   Int
  property_value                Int
  property_type                 String
  property_location             String
  submission_date               DateTime      @default(now())
}

model Account {
  id                String  @id @default(auto()) @map("_id") @db.ObjectId
  userId            String  @db.ObjectId
  type              String
  provider          String
  providerAccountId String
  refresh_token     String? @db.String
  access_token      String? @db.String
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String? @db.String
  session_state     String?

  user              User    @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([provider, providerAccountId])
}

